Data directory
==============

The data directory contains configuration files as well as data.

Configuration files
----------------------

alignment.txt
**************

This is generated by the alignment app, which aligns the screen coordinate system to the tuio object positioning coordinate system.

The first three lines contains three points - x0, y0, x1, y1. (x0, y0) is the position in the screen coordinates, (x1, y1) is the corresponding position in the tuio coordinates.

The last three lines is a 3x3 matrix that when multiplied by tuio position, will return the corresponding position in screen coordinates. 

I.e. ``screes_pos = np.dot(mat, tuio_pos)``, where ``*_pos`` is ``(x, y, 1)``.


county_adjacency.json
************************

Contains the adjacency matrix for each county numbered as ordered in the dataset.

Data
-------

Each data source is stored in its own directory. We have currently three data sources:

* ``County_Boundaries_24K`` comes from https://data-wi-dnr.opendata.arcgis.com/datasets/county-boundaries-24k. The shapes must be mapped from `epsg:3071` to `epsg:3857`.
* ``WI_Election_Data_with_2017_Wards`` and ``WI_Municipal_Wards_Fall_2016`` are from https://github.com/nvkelso/election-geodata/issues/2. The shapes do not seem to require any coordinate transformations.

Each folder may contain the raw data or processed version of the raw data. Once processed, we have a npz and zip file which contain numpy and json representations of the processed data, respectively.

Each contains a fields and records file. Fields is the column headers for the records. The polygons file is a list of polygons describing the shape for each record. Each record has its own list of polygons, because a region may be described by multiple polygons.

The the json/numpy data has been preprocessed to be projected to flat mapping, vertices are scaled to a fixed screen size and smoothed (a little).
